<!--
 Polymer Custom Element representing peer in Puppet Opperational Transformation communication Visualization
 -->
<!-- Import Polymer -->
<link rel="import" href="../bower_components/polymer/polymer.html">

<!-- Define your custom element -->
<polymer-element name="potv-peer" attributes="name localVersion remoteVersion localVersionName remoteVersionName">
<template>
<style>
 :host{
    display: block;
    min-height: 20px;
    padding: 19px;
    margin-bottom: 20px;
    background-color: #f5f5f5;
    border: 1px solid #e3e3e3;
    border-radius: 4px;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
 }
 h2{
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
font-weight: 500;
 }
</style>
  <h2 style="font-size: 28px;
line-height: 42px;
margin: -8px 0 4px;

color: rgb(255,203,0)">Puppet SC</h2>
  <ul>
    <li>Server version: {{localVersion}}</li>
    <li>Acknowledged client version: {{remoteVersion}}</li>
  </ul>
  <h4>Queue</h4>
  <div><content select=".procesed"></content></div>
  Processing:
  <content></content>



</template>

    <script>
        Polymer('potv-peer', {
            name: "",
            // Fires when an instance of the element is created
            created: function() {},

            // Fires when the elementâ€™s initial set of children and siblings are guaranteed to exist
            domReady: function() {},

            // Fires when the "<polymer-element>" has been fully prepared
            ready: function() {},

            // Fires when the element was inserted into the document
            attached: function() {},

            // Fires when the element was removed from the document
            detached: function() {},

            // Fires when an attribute was added, removed, or updated
            attributeChanged: function(attr, oldVal, newVal) {},

            jsonChanged: function(event){
              var ops = event.detail.action;
              var operationElement = document.createElement("potv-operation");
              operationElement.classList.add("bob")
              this.$.bob.localVersion++;
// debugger
              operationElement.json = new ot.JSONPatchOperation([ops], this.$.bob.localVersion, this.$.bob.remoteVersion,"_ServerVersion", "_ClientVersion$");
              this.$.response.appendChild( operationElement );

              this.$.bobDiagram.goRightClient();
              // debugger
            },
        });
    </script>

</polymer-element>